close all;
clc;
I=imread('stone.jpg');
I=rgb2gray(I);
subplot(3,3,1);imshow(I);title('原始图像');
I1=im2double(I);
subplot(3,3,2);imshow(I1);title('预处理');
I3=fftshift(fft2(I1));
I4=abs(I3);
I5=log(I4+1);
subplot(3,3,3);imshow(I5,[]);title('频率域');
I3(:,48:50)=0;
I3(:,120:123)=0;
I3(:,223:226)=0;
I3(:,296:298)=0;
I3(1:120,172:174)=0;
I3(140:258,172:174)=0;
I3(77:81,:)=0;
I3(180:184,:)=0;
I3(218:222,:)=0;
I3(38:42,:)=0;
I3(128:132,1:160)=0;
I3(128:132,190:345)=0;
subplot(3,3,4);imshow(log(I3+1),[]);title('滤波后频域图')
T=ifftshift(I3);%f);%移动回去
subplot(3,3,5);imshow(log(T+1),[]);title('象限回复后频域图')
T1=ifft2(T);%傅里叶逆变换
T2=abs(T1);%abs
subplot(3,3,6);imshow(I,[]);
subplot(3,3,7);imshow(T2,[]);title('final')